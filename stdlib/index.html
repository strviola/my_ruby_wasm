<html>
<head>
  <script src="https://cdn.jsdelivr.net/npm/@ruby/3.3-wasm-wasi@2.6.1/dist/browser.script.iife.js"></script>
  <script type="text/ruby">
    require 'js'
    require 'prime'

    primes = Prime.each
    display_prime = JS.global[:document].querySelector('#display-prime')
    next_button = JS.global[:document].querySelector('#next-prime')
    next_button.addEventListener('click') do |_event|
      display_prime.setAttribute('value', primes.next)
    end
    reset_button = JS.global[:document].querySelector('#clickable-reset')
    reset_button.addEventListener('click') do |_event|
      primes = Prime.each
      display_prime.setAttribute('value', '')
    end
  </script>
</head>
<body>
<h1>Prime generator</h1>
<input type="text" id="display-prime" value="" size="30">
<input type="button" id="next-prime" value="Next">
<input type="button" id="clickable-reset" value="Reset">
<div>
  <a href="../index.html">Back</a>
</div>
</body>
</html>
